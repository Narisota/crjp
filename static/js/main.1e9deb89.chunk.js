(this["webpackJsonpproducts-api-ui"]=this["webpackJsonpproducts-api-ui"]||[]).push([[0],{116:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var c,a,r,s,i,o,d,l,u,j,b,p,O,m,h,x,g,v,f,_,N,S,y,w,k,C,P,E,T,F,A,D,I,R,$,L,q,B,U,W,H,K,Y,z=n(48),G=n.n(z),V=n(8),Q=n.n(V),X=n(10),J=n(5),Z=n(2),ee="",te=function(e){ee=e},ne=function(){return ee},ce=n(12),ae=n(105),re=n(14),se=n(64),ie=n(0),oe=function(){var e=ne();if(!e)return!1;try{var t=Object(se.a)(e).exp;return!(Date.now()>=1e3*t)}catch(n){return!1}},de=function(e){var t=e.component,n=Object(ae.a)(e,["component"]);return Object(ie.jsx)(re.b,Object(ce.a)(Object(ce.a)({},n),{},{render:function(e){return oe()?Object(ie.jsx)(t,Object(ce.a)({},e)):Object(ie.jsx)(re.a,{to:"/dashboard"})}}))},le=(n(116),function(){return Object(ie.jsx)("div",{children:Object(ie.jsx)("nav",{className:"white z-depth-0",style:{borderBottom:"1px solid #dfe0e6"},children:Object(ie.jsx)("div",{className:"nav-wrapper",children:Object(ie.jsx)("div",{className:"row",style:{display:"flex",justifyContent:"center"},children:Object(ie.jsxs)("ul",{id:"nav-mobile",className:"center ",children:[Object(ie.jsx)("li",{children:Object(ie.jsx)("a",{className:"black-text",href:"#/orders",children:"Orders"})}),Object(ie.jsx)("li",{children:Object(ie.jsx)("a",{className:"black-text",href:"#/products",children:"Products"})}),Object(ie.jsx)("li",{children:Object(ie.jsx)("a",{className:"black-text",href:"#/sections",children:"Sections"})}),Object(ie.jsx)("li",{children:Object(ie.jsx)("a",{className:"black-text",href:"#/utils",children:"Utils"})}),Object(ie.jsx)("li",{children:Object(ie.jsx)("a",{className:"black-text",href:"#/edit-socials",children:"Edit Socials"})})]})})})})})}),ue=function(e){var t=e.children;return Object(ie.jsxs)("div",{className:"pageWrapper",children:[Object(ie.jsx)(le,{}),t||Object(ie.jsx)(ie.Fragment,{})]})},je=n(11),be=n(4),pe=Object(be.gql)(c||(c=Object(je.a)(["\n    mutation addAnnouncement($text: String!) {\n  addAnnouncement(text: $text)\n}\n    "])));var Oe=Object(be.gql)(a||(a=Object(je.a)(["\n    mutation addApiUser($username: String!, $password: String!) {\n  addApiUser(username: $username, password: $password)\n}\n    "])));var me=Object(be.gql)(r||(r=Object(je.a)(["\n    mutation addCoupon($coupon_name: String!, $discount: String!) {\n  addCoupon(coupon_name: $coupon_name, discount: $discount)\n}\n    "])));var he=Object(be.gql)(s||(s=Object(je.a)(["\n    mutation addImgToProduct($img_url: String!, $product_id: Float!) {\n  addImgToProduct(img_url: $img_url, product_id: $product_id)\n}\n    "])));function xe(e){return be.useMutation(he,e)}var ge=Object(be.gql)(i||(i=Object(je.a)(["\n    mutation addOptionToProduct($options_str: String!, $product_id: Float!) {\n  addOptionToProduct(options_str: $options_str, product_id: $product_id)\n}\n    "])));var ve=Object(be.gql)(o||(o=Object(je.a)(["\n    mutation addProduct($name: String!, $desc: String!, $price: Float!, $stock: Float!) {\n  addProduct(name: $name, desc: $desc, price: $price, stock: $stock)\n}\n    "])));var fe=Object(be.gql)(d||(d=Object(je.a)(["\n    mutation addProductToSection($product_id: Float!, $section_id: Float!) {\n  addProductToSection(product_id: $product_id, section_id: $section_id)\n}\n    "])));var _e=Object(be.gql)(l||(l=Object(je.a)(["\n    mutation addSection($name: String!, $thumbnail: String!) {\n  addSection(name: $name, thumbnail: $thumbnail)\n}\n    "])));var Ne=Object(be.gql)(u||(u=Object(je.a)(["\n    mutation addShippingToProduct($product_id: Float!, $shipping_str: String!) {\n  addShippingToProduct(product_id: $product_id, shipping_str: $shipping_str)\n}\n    "])));var Se=Object(be.gql)(j||(j=Object(je.a)(["\n    mutation apiLogin($username: String!, $password: String!) {\n  apiLogin(username: $username, password: $password) {\n    accessToken\n    refreshToken\n  }\n}\n    "])));var ye=Object(be.gql)(b||(b=Object(je.a)(["\n    mutation deleteAnnouncement($id: String!) {\n  deleteAnnouncement(id: $id)\n}\n    "])));var we=Object(be.gql)(p||(p=Object(je.a)(["\n    mutation deleteApiUser($uuid: Float!) {\n  deleteApiUser(uuid: $uuid)\n}\n    "])));var ke=Object(be.gql)(O||(O=Object(je.a)(["\n    mutation deleteCoupon($coupon_name: String!) {\n  deleteCoupon(coupon_name: $coupon_name)\n}\n    "])));var Ce=Object(be.gql)(m||(m=Object(je.a)(["\n    mutation deleteOptions($options_str: String!) {\n  deleteOptions(options_str: $options_str)\n}\n    "])));var Pe=Object(be.gql)(h||(h=Object(je.a)(["\n    mutation deleteProduct($product_id: Float!) {\n  deleteProduct(product_id: $product_id)\n}\n    "])));var Ee=Object(be.gql)(x||(x=Object(je.a)(["\n    mutation deleteSection($section_id: Float!) {\n  deleteSection(section_id: $section_id)\n}\n    "])));var Te=Object(be.gql)(g||(g=Object(je.a)(["\n    mutation editTracking($new_tracking_num: String!, $order_id: Float!) {\n  editTracking(new_tracking_num: $new_tracking_num, order_id: $order_id)\n}\n    "])));var Fe=Object(be.gql)(v||(v=Object(je.a)(["\n    query getAnnouncements {\n  getAnnouncements {\n    id\n    text\n  }\n}\n    "])));var Ae=Object(be.gql)(f||(f=Object(je.a)(["\n    query getApiUsers {\n  getApiUsers {\n    uuid\n    username\n  }\n}\n    "])));var De=Object(be.gql)(_||(_=Object(je.a)(["\n    query getCoupons {\n  getCoupons {\n    coupon_name\n    coupon_id\n    discount\n  }\n}\n    "])));var Ie=Object(be.gql)(N||(N=Object(je.a)(["\n    query getMaintenance {\n  getMaintenance\n}\n    "])));var Re=Object(be.gql)(S||(S=Object(je.a)(["\n    query getOrderById($order_id: Float!) {\n  getOrderById(order_id: $order_id) {\n    products {\n      product_id\n      name\n      desc\n      price\n      stock\n      exp_date\n      quantityOrdered\n      productSubtotal\n      images {\n        img_id\n        img_url\n        index\n      }\n    }\n    order_id\n    tracking_num\n    shipping\n    warning\n    order_total\n    coupon\n    discount\n    date_of_purchase\n  }\n}\n    "])));var $e=Object(be.gql)(y||(y=Object(je.a)(["\n    query getOrders {\n  getOrders {\n    products {\n      product_id\n      name\n      desc\n      price\n      stock\n      exp_date\n      quantityOrdered\n      productSubtotal\n      images {\n        img_id\n        img_url\n        index\n      }\n    }\n    order_id\n    tracking_num\n    order_total\n    coupon\n    discount\n    shipping\n    warning\n    date_of_purchase\n  }\n}\n    "])));var Le=Object(be.gql)(w||(w=Object(je.a)(["\n    query apiGetProduct($product_id: Float!) {\n  apiGetProduct(product_id: $product_id) {\n    product_id\n    name\n    desc\n    price\n    stock\n    exp_date\n    images {\n      img_id\n      img_url\n    }\n    hidden\n  }\n}\n    "])));var Me=Object(be.gql)(k||(k=Object(je.a)(["\n    query getProductShipping($product_id: Float!) {\n  getProductShipping(product_id: $product_id) {\n    shipping_id\n    country\n    price\n  }\n}\n    "])));var qe=Object(be.gql)(C||(C=Object(je.a)(["\n    query apiGetProducts {\n  apiGetProducts {\n    product_id\n    name\n    desc\n    price\n    stock\n    exp_date\n    images {\n      img_id\n      img_url\n    }\n  }\n}\n    "])));var Be=Object(be.gql)(P||(P=Object(je.a)(["\n    query getProductsOptions($product_id: Float!) {\n  getProductsOptions(product_id: $product_id) {\n    option_id\n    name\n    price\n    stock\n    index\n  }\n}\n    "])));var Ue=Object(be.gql)(E||(E=Object(je.a)(["\n    query getProductsSections($product_id: Float!) {\n  getProductsSections(product_id: $product_id) {\n    section_id\n    name\n    thumbnail\n  }\n}\n    "])));var We=Object(be.gql)(T||(T=Object(je.a)(["\n    query getSectionById($section_id: Float!) {\n  getSectionById(section_id: $section_id) {\n    section_id\n    thumbnail\n    name\n  }\n}\n    "])));var He=Object(be.gql)(F||(F=Object(je.a)(["\n    query getSections {\n  getSections {\n    section_id\n    name\n    thumbnail\n  }\n}\n    "])));function Ke(e){return be.useQuery(He,e)}Object(be.gql)(A||(A=Object(je.a)(["\n    query getSectionsProducts($section_id: Float!) {\n  getSectionsProducts(section_id: $section_id) {\n    product_id\n    name\n    desc\n    price\n    stock\n    org_stock\n  }\n}\n    "])));var Ye=Object(be.gql)(D||(D=Object(je.a)(["\n    query getSocials($component: String!) {\n  getSocials(component: $component) {\n    id\n    index\n    social_url\n    social_logo\n    display\n  }\n}\n    "])));var ze=Object(be.gql)(I||(I=Object(je.a)(["\n    mutation initSocials {\n  initSocials\n}\n    "])));var Ge=Object(be.gql)(R||(R=Object(je.a)(["\n    mutation removeImgFromProduct($img_id: Float!) {\n  removeImgFromProduct(img_id: $img_id)\n}\n    "])));var Ve=Object(be.gql)($||($=Object(je.a)(["\n    mutation removeProductFromSection($product_id: Float!, $section_id: Float!) {\n  removeProductFromSection(product_id: $product_id, section_id: $section_id)\n}\n    "])));var Qe=Object(be.gql)(L||(L=Object(je.a)(["\n    mutation removeWarning($order_id: Float!) {\n  removeWarning(order_id: $order_id)\n}\n    "])));var Xe=Object(be.gql)(q||(q=Object(je.a)(["\n    mutation toggleMaintenance {\n  toggleMaintenance\n}\n    "])));var Je=Object(be.gql)(B||(B=Object(je.a)(["\n    mutation toggleProductDisplay($product_id: Float!) {\n  toggleProductDisplay(product_id: $product_id)\n}\n    "])));var Ze=Object(be.gql)(U||(U=Object(je.a)(["\n    mutation toggleSocialDisplay($id: Float!) {\n  toggleSocialDisplay(id: $id)\n}\n    "])));var et=Object(be.gql)(W||(W=Object(je.a)(["\n    mutation updateOptions($options_str: String!) {\n  updateOptions(options_str: $options_str)\n}\n    "])));var tt=Object(be.gql)(H||(H=Object(je.a)(["\n    mutation updateProduct($product_id: Float!, $name: String!, $desc: String!, $price: Float!, $stock: Float!) {\n  updateProduct(\n    product_id: $product_id\n    name: $name\n    desc: $desc\n    price: $price\n    stock: $stock\n  )\n}\n    "])));var nt=Object(be.gql)(K||(K=Object(je.a)(["\n    mutation updateSection($name: String!, $thumbnail: String!, $section_id: Float!) {\n  updateSection(name: $name, thumbnail: $thumbnail, section_id: $section_id)\n}\n    "])));var ct=Object(be.gql)(Y||(Y=Object(je.a)(["\n    mutation updateSocialUrl($url: String!, $id: Float!) {\n  updateSocialUrl(url: $url, id: $id)\n}\n    "])));var at=n(45),rt=n(44),st=n.n(rt),it=function(){var e,t=be.useMutation(ve,e),n=Object(J.a)(t,1)[0],c=xe(),a=Object(J.a)(c,1)[0],r=Object(Z.useState)(""),s=Object(J.a)(r,2),i=s[0],o=s[1],d=Object(Z.useState)(""),l=Object(J.a)(d,2),u=l[0],j=l[1],b=Object(Z.useState)(""),p=Object(J.a)(b,2),O=p[0],m=p[1],h=Object(Z.useState)(""),x=Object(J.a)(h,2),g=x[0],v=x[1],f=Object(Z.useState)([]),_=Object(J.a)(f,2),N=_[0],S=_[1],y=Object(Z.useState)(!1),w=Object(J.a)(y,2),k=w[0],C=w[1],P=Object(Z.useState)(!1),E=Object(J.a)(P,2),T=E[0],F=E[1],A=function(){var e=Object(X.a)(Q.a.mark((function e(){var t,c,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&u&&O&&g&&N[0]){e.next=4;break}ot(i,u,O,g,N),e.next=21;break;case 4:return e.prev=4,e.next=7,n({variables:{name:i,desc:u,price:Number(O),stock:Number(g)}});case 7:c=e.sent,r=0;case 9:if(!(r<N.length)){e.next=15;break}return e.next=12,a({variables:{img_url:N[r],product_id:Number(c.data.addProduct)}});case 12:r++,e.next=9;break;case 15:F(!0),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(4),M.toast({html:"Could not add product"});case 21:null===(t=document.getElementById("submit-btn"))||void 0===t||t.classList.remove("disabled");case 22:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(X.a)(Q.a.mark((function e(t){var n,c,a,r,s;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=21;break}if(c=new FormData,Object({NODE_ENV:"production",PUBLIC_URL:"/crjp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUDINARY_CLOUD_NAME&&Object({NODE_ENV:"production",PUBLIC_URL:"/crjp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUDINARY_API_KEY){e.next=6;break}return M.toast({html:"env err"}),e.abrupt("return");case 6:return c.append("api_key","".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/crjp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUDINARY_API_KEY)),c.append("file",t[n]),c.append("tags","codeinfuse, medium, gist"),c.append("upload_preset","re5zmdqn"),a=Date.now()/1e3|0,c.append("timestamp","".concat(a)),e.next=14,st.a.post("https://api.cloudinary.com/v1_1/".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/crjp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUDINARY_CLOUD_NAME,"/image/upload"),c,{headers:{"X-Requested-With":"XMLHttpRequest"}});case 14:r=e.sent,(s=N).push(r.data.secure_url),S(s);case 18:n++,e.next=1;break;case 21:C(!k);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return T?Object(ie.jsx)(re.a,{to:{pathname:"/products",state:{reload:!0}}}):Object(ie.jsxs)("div",{className:"container",style:{width:"50%"},children:[Object(ie.jsx)("div",{className:"row",children:Object(ie.jsx)("h5",{children:"Add A Product"})}),Object(ie.jsxs)("form",{children:[Object(ie.jsx)("div",{className:"row",children:Object(ie.jsxs)("div",{className:"input-field",children:[Object(ie.jsx)("input",{id:"name",type:"text",value:i,onChange:function(e){return o(e.target.value)}}),Object(ie.jsx)("label",{htmlFor:"name",children:"Name"}),Object(ie.jsx)("span",{className:"helper-text","data-error":"Please enter a product name"})]})}),Object(ie.jsx)("div",{className:"row",children:Object(ie.jsxs)("div",{className:"input-field",children:[Object(ie.jsx)("textarea",{id:"desc",value:u,className:"materialize-textarea",onChange:function(e){return j(e.target.value)}}),Object(ie.jsx)("label",{htmlFor:"desc",children:"Description"}),Object(ie.jsx)("span",{className:"helper-text","data-error":"Please enter a product description"})]})}),Object(ie.jsx)("div",{className:"row",children:Object(ie.jsxs)("div",{className:"input-field",children:[Object(ie.jsx)("input",{id:"price",type:"text",value:O,onChange:function(e){e.target.value||m(e.target.value),e.target.value.match(/\D/g)||m(e.target.value)}}),Object(ie.jsx)("label",{htmlFor:"price",children:"Price"}),Object(ie.jsx)("span",{className:"helper-text","data-error":"Please enter a product price"})]})}),Object(ie.jsx)("div",{className:"row",children:Object(ie.jsxs)("div",{className:"input-field",children:[Object(ie.jsx)("input",{id:"stock",type:"text",value:g,onChange:function(e){e.target.value||v(e.target.value),e.target.value.match(/\D/g)||v(e.target.value)}}),Object(ie.jsx)("label",{htmlFor:"stock",children:"Stock"}),Object(ie.jsx)("span",{className:"helper-text","data-error":"Please enter a stock amount"})]})}),Object(ie.jsx)("div",{className:"container",children:Object(ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(ie.jsx)("button",{id:"submit-btn",className:"btn green",onClick:function(){document.getElementById("submit-btn").classList.add("disabled"),A()},children:"Submit"}),Object(ie.jsx)(at.a,{onDrop:function(){var e=Object(X.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(ie.jsxs)("div",Object(ce.a)(Object(ce.a)({},t()),{},{children:[Object(ie.jsx)("input",Object(ce.a)({},n())),Object(ie.jsx)("button",{className:"btn black",children:"Add Images"})]}))}})]})})]}),0===N.length?Object(ie.jsx)(ie.Fragment,{}):Object(ie.jsx)(ie.Fragment,{children:N.map((function(e,t){return Object(ie.jsx)("img",{src:N[t]})}))})]})},ot=function(e,t,n,c,a){for(var r=["name","desc","price","stock"],s=document,i=0;i<r.length;i++)try{s.getElementById(r[i]).classList.remove("invalid")}catch(o){}e||s.getElementById("name").classList.add("invalid"),t||s.getElementById("desc").classList.add("invalid"),n||s.getElementById("price").classList.add("invalid"),c||s.getElementById("stock").classList.add("invalid"),a[0]||M.toast({html:"Please add an image to continue"})},dt=n(46),lt=function(){return Number(window.location.href.split(":")[2])},ut=function(){var e,t=be.useMutation(fe,e),n=Object(J.a)(t,1)[0],c=function(e){return be.useMutation(Ve,e)}(),a=Object(J.a)(c,1)[0],r=function(e){return be.useMutation(tt,e)}(),s=Object(J.a)(r,1)[0],i=function(e){return be.useMutation(Pe,e)}(),o=Object(J.a)(i,1)[0],d=xe(),l=Object(J.a)(d,1)[0],u=function(e){return be.useMutation(Ge,e)}(),j=Object(J.a)(u,1)[0],b=function(e){return be.useMutation(ge,e)}(),p=Object(J.a)(b,1)[0],O=function(e){return be.useMutation(Je,e)}(),m=Object(J.a)(O,1)[0],h=function(e){return be.useMutation(Ce,e)}(),x=Object(J.a)(h,1)[0],g=function(e){return be.useMutation(et,e)}(),v=Object(J.a)(g,1)[0],f=function(e){return be.useMutation(Ne,e)}();return{addProductToSection:n,removeProductFromSection:a,updateProduct:s,deleteProduct:o,addImgToProduct:l,deleteImg:j,ADD_OPT_TO_PRODUCT:p,toggleDisplay:m,deleteOptions:x,UPDATE_OPTS:v,addShippingToProduct:Object(J.a)(f,1)[0]}},jt=function(){var e,t=lt(),n=(e={variables:{product_id:t}},be.useQuery(Ue,e));return{pdata:n.data,ploading:n.loading}},bt=function(){var e,t=lt(),n=(e={variables:{product_id:t}},be.useQuery(Be,e));return{odata:n.data,oloading:n.loading}},pt=function(){var e,t=lt(),n=(e={variables:{product_id:t}},be.useQuery(Me,e));return{shdata:n.data,shloading:n.loading}},Ot=function(e){for(var t=0;t<e.length;t++)try{document.getElementById(e[t]).classList.toggle("disabled")}catch(n){}},mt=function(e,t,n,c,a,r,s){if(!n.target.value&&"."!==n.target.value){var i=c;i[t][e]=n.target.value,a(i)}if(!n.target.value.match(/\D/g)){var o=c;o[t][e]=n.target.value,a(o),s(!r)}},ht=function(){var e,t=lt(),n=ut(),c=n.addProductToSection,a=n.removeProductFromSection,r=n.updateProduct,s=n.deleteProduct,i=n.addImgToProduct,o=n.deleteImg,d=n.ADD_OPT_TO_PRODUCT,l=n.toggleDisplay,u=n.deleteOptions,j=n.UPDATE_OPTS,b=n.addShippingToProduct,p=Object(Z.useState)(!1),O=Object(J.a)(p,2),m=O[0],h=O[1],x=Object(Z.useState)(""),g=Object(J.a)(x,2),v=g[0],f=g[1],_=Object(Z.useState)(""),N=Object(J.a)(_,2),S=N[0],y=N[1],w=Object(Z.useState)(""),k=Object(J.a)(w,2),C=k[0],P=k[1],E=Object(Z.useState)(""),T=Object(J.a)(E,2),F=T[0],A=T[1],D=Object(Z.useState)([]),I=Object(J.a)(D,2),R=I[0],$=I[1],L=Object(Z.useState)([]),q=Object(J.a)(L,2),B=q[0],U=q[1],W=Object(Z.useState)([{}]),H=Object(J.a)(W,2),K=H[0],Y=H[1],z=Object(Z.useState)([]),G=Object(J.a)(z,2),V=G[0],ee=G[1],te=Object(Z.useState)([{id:"",name:"",init:!0,price:""}]),ne=Object(J.a)(te,2),ae=ne[0],se=ne[1],oe=Object(Z.useState)([]),de=Object(J.a)(oe,2),le=de[0],ue=de[1],je=Object(Z.useState)([]),pe=Object(J.a)(je,2),Oe=pe[0],me=pe[1],he=Object(Z.useState)([]),xe=Object(J.a)(he,2),ge=xe[0],ve=xe[1],fe=Object(Z.useState)([]),_e=Object(J.a)(fe,2),Ne=(_e[0],_e[1],Object(Z.useState)([{id:"",country:"",init:!0,price:""}])),Se=Object(J.a)(Ne,2),ye=Se[0],we=Se[1],ke=function(){var e=Ke();return{sdata:e.data,sloading:e.loading}}(),Ce=ke.sdata,Pe=ke.sloading,Ee=jt(),Te=Ee.pdata,Fe=Ee.ploading,Ae=bt(),De=Ae.odata,Ie=Ae.oloading,Re=pt(),$e=Re.shdata,Me=Re.shloading,qe=(e={variables:{product_id:t}},be.useQuery(Le,e)),Be=qe.data,Ue=qe.loading,We=qe.error;var He=function(e,t){console.log("deleted");for(var n=t.innerHTML.slice(0,t.innerHTML.indexOf("<")),c=-1,a=0;a<K.length;a++)if(K[a].name===n){c=a;break}if(-1!==c){var r=K;r.splice(c,1),Y(r)}else for(var s=0;s<Te.getProductsSections.length;s++)if(Te.getProductsSections[s].name===n){console.log("removing");var i=V;i.push(Te.getProductsSections[s].section_id),ee(i)}},Ye=function(e,t){for(var n=t.innerHTML.slice(0,t.innerHTML.indexOf("<")),c=K,a=-1,r=0;r<Ce.getSections.length;r++)if(Ce.getSections[r].name===n){a=Ce.getSections[r].section_id;break}-1!==a?(c.push({name:n,section_id:a}),Y(c)):t.innerHTML='CHIP DOES NOT EXIST<i class="material-icons close">close</i>'};if(Object(Z.useEffect)((function(){M.Modal.init(document.querySelectorAll(".modal")),M.Dropdown.init(document.querySelectorAll(".dropdown-trigger"));var e={},t=[];if(!Pe&&Ce&&!Fe&&Te&&!Ie&&De&&!Me&&$e){if(ae[0]&&ae[0].init){var n=[{}],c=[{}];if(0!==De.getProductsOptions.length){for(var a=0;a<De.getProductsOptions.length;a++){var r=De.getProductsOptions[a];n[a]={name:"",price:"",stock:""},c[a]={id:"".concat(r.option_id),name:"".concat(r.name),price:"".concat(r.price),stock:"".concat(r.stock),opt_index:r.index}}ue(c),se(n)}}if(ye[0]&&ye[0].init){var s=[{}],i=[{}];if(0!==$e.getProductShipping.length){for(var o=0;o<$e.getProductShipping.length;o++){var d=$e.getProductShipping[o];s[o]={country:"",price:""},i[o]={id:"".concat(d.shipping_id),country:"".concat(d.country),price:"".concat(d.price)}}ve(i),we(s)}}var l;Ce.getSections.forEach((function(t,n){e["".concat(null===Ce||void 0===Ce?void 0:Ce.getSections[n].name)]=null})),Te.getProductsSections&&0===Te.getProductsSections.length||Te.getProductsSections.forEach((function(e,n){t[n]={tag:Te.getProductsSections[n].name}})),l=0!==t.length?{autocompleteOptions:{data:e},data:t,onChipAdd:Ye,onChipDelete:He}:{autocompleteOptions:{data:e},onChipAdd:Ye,onChipDelete:He},M.Chips.init(document.querySelectorAll(".chips"),l)}})),Ue||Pe||Fe||Ie||Me)return Object(ie.jsx)(ie.Fragment,{children:"...loading"});if(console.log("odata :>> ",De),console.log("shdata :>> ",$e),We)return Object(ie.jsx)(re.a,{to:"/products"});var ze=function(){var e=Object(X.a)(Q.a.mark((function e(t){var n,c,a,r,s;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M.toast({html:"Adding images please wait..."}),Ot(["img_btn","submit-btn","delete-button"]),n=0;case 3:if(!(n<t.length)){e.next=29;break}if(c=new FormData,Object({NODE_ENV:"production",PUBLIC_URL:"/crjp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUDINARY_CLOUD_NAME&&Object({NODE_ENV:"production",PUBLIC_URL:"/crjp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUDINARY_API_KEY){e.next=8;break}return M.toast({html:"env err"}),e.abrupt("return");case 8:return c.append("api_key","".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/crjp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUDINARY_API_KEY)),c.append("file",t[n]),c.append("tags","codeinfuse, medium, gist"),c.append("upload_preset","re5zmdqn"),a=Date.now()/1e3|0,c.append("timestamp","".concat(a)),e.prev=14,e.next=17,st.a.post("https://api.cloudinary.com/v1_1/".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/crjp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUDINARY_CLOUD_NAME,"/image/upload"),c,{headers:{"X-Requested-With":"XMLHttpRequest"}});case 17:r=e.sent,(s=R).push(r.data.secure_url),$(s),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(14),M.toast({html:"Error: ".concat(e.t0)});case 26:n++,e.next=3;break;case 29:Ot(["img_btn","submit-btn","delete-button"]),h(!m);case 31:case"end":return e.stop()}}),e,null,[[14,23]])})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(X.a)(Q.a.mark((function e(){var n,s,l,p,O,m,h,x,g,f,_,N,y,w,k,P,E,T,A,D,I,$,L;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1===K.length){e.next=10;break}n=1;case 2:if(!(n<K.length)){e.next=10;break}return e.next=5,c({variables:{product_id:t,section_id:K[n].section_id}});case 5:(s=e.sent).data&&s.data.addProductToSection||(M.toast({html:"An Error occurred while adding product to section => ".concat(K[n].name)}),M.toast({html:"If you got this error you added a section that does not exist"}),M.toast({html:"Please use the autoselect functionality"}));case 7:n++,e.next=2;break;case 10:if(0===V.length){e.next=20;break}l=0;case 12:if(!(l<V.length)){e.next=20;break}return e.next=15,a({variables:{product_id:t,section_id:V[l]}});case 15:(p=e.sent).data&&p.data.removeProductFromSection||M.toast({html:"Could not remove product from Section"});case 17:l++,e.next=12;break;case 20:if(0===Oe.length){e.next=24;break}return O=JSON.stringify(Oe),e.next=24,u({variables:{options_str:O}});case 24:return e.next=26,r({variables:{product_id:t,name:v||Ve.name,desc:S||Ve.desc,price:Number(C)||Ve.price,stock:Number(F)||Ve.stock}});case 26:m=0;case 27:if(!(m<R.length)){e.next=40;break}return e.prev=28,e.next=31,i({variables:{img_url:R[m],product_id:null===Be||void 0===Be?void 0:Be.apiGetProduct.product_id}});case 31:e.next=37;break;case 33:return e.prev=33,e.t0=e.catch(28),M.toast({html:"Error occured while trying to add an image: ".concat(e.t0)}),e.abrupt("return");case 37:m++,e.next=27;break;case 40:h=0;case 41:if(!(h<B.length)){e.next=54;break}return e.prev=42,e.next=45,o({variables:{img_id:B[h]}});case 45:e.next=51;break;case 47:return e.prev=47,e.t1=e.catch(42),M.toast({html:"Error occured while trying to remove an image: ".concat(e.t1)}),e.abrupt("return");case 51:h++,e.next=41;break;case 54:if(0===le.length){e.next=93;break}g=document.getElementById("options-DD"),f=[{}],_=[{}],N=0;case 59:if(!(N<g.children.length)){e.next=79;break}if(y=document.getElementById("name-".concat(N)),w=document.getElementById("price-".concat(N)),k=document.getElementById("stock-".concat(N)),"option"!==y.labels[0].innerHTML.toLowerCase()){e.next=72;break}if(y.value&&k.value){e.next=67;break}return M.toast({html:"please add missing values"}),e.abrupt("return");case 67:(P=w.value)||(P=null===Be||void 0===Be?void 0:Be.apiGetProduct.price),f.unshift({name:y.value,price:Number(P),stock:Number(k.value),index:N}),e.next=76;break;case 72:(E=w.value)||(E=null===Be||void 0===Be?void 0:Be.apiGetProduct.price),T=g.children[N].attributes["data-rbd-draggable-id"].value,_.unshift({name:y.value,price:Number(E),stock:Number(k.value),index:N,option_id:T});case 76:N++,e.next=59;break;case 79:for(A=0;A<f.length;A++)f[A].name||f.splice(A,1);return D=JSON.stringify(f),e.next=83,d({variables:{options_str:D,product_id:t}});case 83:return I=e.sent,D=JSON.stringify(_),console.log("updatedOptions :>> ",_),e.next=88,j({variables:{options_str:D}});case 88:if(null===(x=I.data)||void 0===x?void 0:x.addOptionToProduct){e.next=93;break}return M.toast({html:"An Error has occured"}),M.toast({html:"Please try refreshing the page"}),M.toast({html:"If error persist check heroku logs"}),e.abrupt("return");case 93:if(0===ge.length){e.next=106;break}return $=JSON.stringify(ye),console.log("shipping_str :>> ",$),e.next=99,b({variables:{product_id:t,shipping_str:$}});case 99:if((L=e.sent).data&&L.data.addShippingToProduct){e.next=105;break}return M.toast({html:"An Error has occured"}),M.toast({html:"Please try refreshing the page"}),M.toast({html:"If error persist check heroku logs"}),e.abrupt("return");case 105:console.log("response :>> ",L);case 106:case"end":return e.stop()}}),e,null,[[28,33],[42,47]])})));return function(){return e.apply(this,arguments)}}(),Ve=Be.apiGetProduct;return Object(ie.jsxs)("div",{className:"container",style:{width:"50%"},children:[Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsx)("h5",{children:"Edit Product"}),Object(ie.jsx)("h5",{className:"right",onClick:Object(X.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({variables:{product_id:t}});case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)}))),children:(null===Be||void 0===Be?void 0:Be.apiGetProduct.hidden)?Object(ie.jsx)(ie.Fragment,{children:"Status: Hidden"}):Object(ie.jsx)(ie.Fragment,{children:"Status: Shown"})})]}),Object(ie.jsxs)("form",{children:[Object(ie.jsx)("div",{className:"row",children:Object(ie.jsxs)("div",{className:"input-field product-input",children:[Object(ie.jsx)("input",{className:"browser-default",id:"name",type:"text",value:v,onChange:function(e){f(e.target.value)}}),Object(ie.jsx)("label",{id:"name-label",htmlFor:"name",children:Ve.name})]})}),Object(ie.jsx)("div",{className:"row",children:Object(ie.jsxs)("div",{className:"input-field product-input",children:[Object(ie.jsx)("textarea",{className:"browser-default materialize-textarea",id:"desc",value:S,onChange:function(e){return y(e.target.value)}}),Object(ie.jsx)("label",{htmlFor:"desc",children:Ve.desc})]})}),Object(ie.jsx)("div",{className:"row",children:Object(ie.jsxs)("div",{className:"input-field product-input",children:[Object(ie.jsx)("input",{className:"browser-default",id:"price",type:"text",value:C,onChange:function(e){e.target.value||P(e.target.value),e.target.value.match(/\d/g)&&P(e.target.value)}}),Object(ie.jsxs)("label",{htmlFor:"price",children:["$",Number(Ve.price/100).toFixed(2)]})]})}),Object(ie.jsx)("div",{className:"row",children:Object(ie.jsxs)("div",{className:"input-field product-input",children:[Object(ie.jsx)("input",{className:"browser-default",id:"stock",type:"text",value:F,onChange:function(e){e.target.value||A(e.target.value),e.target.value.match(/\d/g)&&A(e.target.value)}}),Object(ie.jsxs)("label",{htmlFor:"stock",children:["STOCK => ",Ve.stock]})]})}),Object(ie.jsx)("div",{className:"row",children:Object(ie.jsxs)("div",{className:"chips chips-initial",id:"chips-initial",children:[Object(ie.jsx)("span",{children:"Sections: "}),Object(ie.jsx)("input",{className:"custom-class"})]})}),Object(ie.jsx)("div",{className:"row",children:Object(ie.jsxs)("div",{className:"container",children:[Object(ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(ie.jsx)("span",{children:"Option"}),Object(ie.jsx)("span",{children:"Price"})]}),Object(ie.jsx)(dt.a,{onDragEnd:function(e){if(e.destination){var t=Array.from(le),n=t.splice(e.source.index,1),c=Object(J.a)(n,1)[0];t.splice(e.destination.index,0,c),ue(t);var a=ae,r=a.splice(e.source.index,1),s=Object(J.a)(r,1)[0];a.splice(e.destination.index,0,s),se(a)}},children:Object(ie.jsx)(dt.c,{droppableId:"options",children:function(e){return Object(ie.jsxs)("ul",Object(ce.a)(Object(ce.a)({id:"options-DD"},e.droppableProps),{},{ref:e.innerRef,children:[le.map((function(e,t){var n=e.id,c=e.name,a=e.price,r=e.stock;return Object(ie.jsx)(dt.b,{draggableId:"".concat(n),index:t,children:function(e){return Object(ie.jsx)("li",Object(ce.a)(Object(ce.a)(Object(ce.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(ie.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",backgroundColor:"white",margin:0,borderBottom:"1px solid #f2f3f7"},className:"row",children:[Object(ie.jsx)("div",{className:"col s5 noselect",children:Object(ie.jsxs)("div",{className:"input-field product-input",children:[Object(ie.jsx)("input",{className:"browser-default",id:"name-".concat(t),type:"text",value:ae[t]?ae[t].name:"",onChange:function(e){if(e.target.value.match(/^ /)){var n=ae;n[t].name=e.target.value.substring(1),se(n),h(!m)}else{var c=ae;c[t].name=e.target.value,se(c),h(!m)}}}),Object(ie.jsx)("label",{htmlFor:"name-".concat(t),children:c})]})}),Object(ie.jsx)("div",{className:"col s2 offset-s1 noselect",children:Object(ie.jsxs)("div",{className:"input-field product-input",children:[Object(ie.jsx)("input",{className:"browser-default",id:"price-".concat(t),type:"text",value:ae[t]?ae[t].price:"",onChange:function(e){return mt("price",t,e,ae,se,m,h)}}),Object(ie.jsxs)("label",{htmlFor:"price-".concat(t),children:["$",Number(a/100).toFixed(2)]})]})}),Object(ie.jsx)("div",{className:"col s3 noselect",children:Object(ie.jsxs)("div",{className:"input-field product-input",children:[Object(ie.jsx)("input",{className:"browser-default",id:"stock-".concat(t),type:"text",value:ae[t]?ae[t].stock:"",onChange:function(e){return mt("stock",t,e,ae,se,m,h)}}),Object(ie.jsx)("label",{htmlFor:"stock-".concat(t),children:r?Object(ie.jsxs)(ie.Fragment,{children:["STOCK =>"," ",r]}):Object(ie.jsx)(ie.Fragment,{children:"STOCK"})})]})}),Object(ie.jsx)("i",{className:"material-icons noselect",children:"drag_handle"}),Object(ie.jsx)("i",{className:"material-icons red-text noselect",onClick:function(){for(var e=De.getProductsOptions.length,t=0;t<e;t++)if(De.getProductsOptions[t].option_id===Number(n)){var c=Oe;c.push(Number(n)),me(c);break}for(var a=0;a<le.length;a++)if(le[a].id===n){var r=le;console.log("tmp b4 :>> ",r),r.splice(a,1),console.log("tmp :>> ",r),ue(r),(r=ae).splice(a,1),se(r),h(!m)}},children:"delete"})]})}))}},"".concat(n))})),e.placeholder]}))}})}),Object(ie.jsx)("button",{className:"add-option",onClick:function(){var e=le,t=e;t.push({id:"opt-".concat(Number(95*Math.random()+5).toFixed(2)),name:"Option",price:null===Be||void 0===Be?void 0:Be.apiGetProduct.price}),ue(t),(t=e=ae).push({name:"",price:"",stock:""}),t[0].init&&t.splice(0,1),se(t),h(!m)},children:Object(ie.jsx)("i",{className:"material-icons",children:"add"})})]})}),Object(ie.jsx)("div",{className:"row",children:Object(ie.jsxs)("div",{className:"container",children:[Object(ie.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:Object(ie.jsx)("span",{children:"Shipping"})}),Object(ie.jsx)(dt.a,{onDragEnd:function(e){if(e.destination){var t=Array.from(ge),n=t.splice(e.source.index,1),c=Object(J.a)(n,1)[0];t.splice(e.destination.index,0,c),ve(t);var a=ye,r=a.splice(e.source.index,1),s=Object(J.a)(r,1)[0];a.splice(e.destination.index,0,s),we(a)}},children:Object(ie.jsx)(dt.c,{droppableId:"shipping",children:function(e){return Object(ie.jsxs)("ul",Object(ce.a)(Object(ce.a)({id:"shipping-DD"},e.droppableProps),{},{ref:e.innerRef,children:[ge.map((function(e,t){var n=e.id,c=e.country,a=e.price;return console.log("index",t),Object(ie.jsx)(dt.b,{draggableId:"".concat(n),index:t,children:function(e){return Object(ie.jsx)("li",Object(ce.a)(Object(ce.a)(Object(ce.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(ie.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",backgroundColor:"white",margin:0,borderBottom:"1px solid #f2f3f7"},className:"row",children:[Object(ie.jsx)("div",{className:"col s3",children:Object(ie.jsxs)("div",{className:"input-field product-input",children:[Object(ie.jsx)("input",{className:"browser-default",id:"shipping_country-".concat(t),type:"text",value:ye[t].country,onChange:function(e){var n=ye;n[t].country=e.target.value,we(n),h(!m)}}),Object(ie.jsxs)("label",{htmlFor:"shipping_country-".concat(t),children:[c," ","US OR EL"]})]})}),Object(ie.jsx)("div",{className:"col s5 noselect",children:Object(ie.jsxs)("div",{className:"input-field product-input",children:[Object(ie.jsx)("input",{className:"browser-default",id:"shipping_price-".concat(t),type:"text",value:ye[t].price,onChange:function(e){var n=ye;n[t].price=e.target.value,we(n),h(!m)}}),Object(ie.jsx)("label",{htmlFor:"shipping_price-".concat(t),children:a})]})}),Object(ie.jsx)("i",{className:"material-icons noselect",children:"drag_handle"}),Object(ie.jsx)("i",{className:"material-icons red-text noselect",onClick:function(){console.log("id :>> ",n);for(var e=0;e<ge.length;e++)if(ge[e].id===n){var t=ge;t.splice(e,1),ve(t),(t=ye).splice(e,1),we(t),h(!m)}},children:"delete"})]})}))}},"".concat(n))})),e.placeholder]}))}})}),Object(ie.jsx)("button",{className:"add-option",onClick:function(){var e=ge,t=e;t.push({id:"shipping-".concat(Number(95*Math.random()+5).toFixed(2)),country:"Country",price:"Shipping Price"}),ve(t),(t=e=ye).push({country:"",price:""}),t[0].init&&t.splice(0,1),we(t),h(!m)},children:Object(ie.jsx)("i",{className:"material-icons",children:"add"})})]})}),Object(ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(ie.jsx)("button",{className:"btn green",id:"submit-btn",onClick:function(){return Ge()},children:"Submit"}),Object(ie.jsx)(at.a,{onDrop:function(){var e=Object(X.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ze(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(ie.jsxs)("span",Object(ce.a)(Object(ce.a)({},t()),{},{children:[Object(ie.jsx)("input",Object(ce.a)({},n())),Object(ie.jsx)("button",{className:"btn black",id:"img_btn",children:"Add Images"})]}))}}),Object(ie.jsx)("button",{className:"btn modal-trigger red",id:"delete-button","data-target":"modal1",children:"Delete"})]}),Object(ie.jsxs)("div",{className:"products-grid",style:{marginTop:"32px"},children:[Object(ie.jsx)(ie.Fragment,{children:null===Be||void 0===Be?void 0:Be.apiGetProduct.images.map((function(e,t){return Object(ie.jsxs)("div",{className:"card",style:{margin:"0px 16px 32px 16px"},id:"card-".concat(t),children:[Object(ie.jsx)("span",{className:"close-icon noselect",onClick:Object(X.a)(Q.a.mark((function e(){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=B).push(Be.apiGetProduct.images[t].img_id),U(n),document.getElementById("card-".concat(t)).style.display="none";case 4:case"end":return e.stop()}}),e)}))),children:Object(ie.jsx)("i",{className:"material-icons white-text",children:"close"})}),Object(ie.jsx)("div",{className:"card-image noselect",children:Object(ie.jsx)("img",{src:(null===Be||void 0===Be?void 0:Be.apiGetProduct.images[t].img_url)||"https://materializecss.com/images/sample-1.jpg"})})]},t)}))}),0===R.length?Object(ie.jsx)(ie.Fragment,{}):Object(ie.jsx)(ie.Fragment,{children:R.map((function(e,t){return Object(ie.jsx)("div",{className:"card",style:{margin:"0px 16px 32px 16px"},children:Object(ie.jsx)("div",{className:"card-image noselect",children:Object(ie.jsx)("img",{src:R[t]})})})}))})]})]}),Object(ie.jsxs)("div",{id:"modal1",className:"modal",children:[Object(ie.jsxs)("div",{className:"modal-content",children:[Object(ie.jsx)("h4",{children:"Are you sure you want to delete this product?"}),Object(ie.jsx)("p",{children:"This will also delete all of the users orders."})]}),Object(ie.jsx)("div",{className:"modal-footer",children:Object(ie.jsx)("button",{id:"delete-button",className:"btn right red",onClick:Object(X.a)(Q.a.mark((function e(){var n,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ot(["delete-button"]),e.next=3,s({variables:{product_id:t}});case 3:c=e.sent,(null===(n=c.data)||void 0===n?void 0:n.deleteProduct)?window.location.reload():(M.toast({html:"Could not delete product"}),Ot(["delete-button"]));case 5:case"end":return e.stop()}}),e)}))),children:"Delete Product"})})]})]})},xt=n(56),gt=function(){return Object(ie.jsx)("div",{className:"fixed-action-btn",style:{bottom:100,right:100},children:Object(ie.jsx)("a",{className:"btn-floating btn-large red tooltipped","data-position":"left","data-tooltip":"Click me to preview your changes",id:"menu",children:Object(ie.jsx)("i",{className:"large material-icons blue",children:"remove_red_eye"})})})},vt=function(e){var t=e.socials,n=[0,1,2,3];return Object(ie.jsx)(ie.Fragment,{children:n.map((function(e,c){return Object(ie.jsx)("li",{className:"",style:{minWidth:50},children:Object(ie.jsxs)("span",{children:[Object(ie.jsx)("span",{className:"left black-text",children:t.map((function(e,a){if(t[a].index===n[c])return Object(ie.jsx)(ft,{social_logo:t[a].social_logo})}))}),Object(ie.jsx)("span",{className:"right black-text",children:n[c]})]})})}))})},ft=function(e){switch(e.social_logo){case"I":return Object(ie.jsx)(xt.c,{style:{height:30,width:30}});case"E":return Object(ie.jsx)(xt.a,{style:{height:30,width:30}});case"T":return Object(ie.jsx)(xt.d,{style:{height:30,width:30}});case"F":return Object(ie.jsx)(xt.b,{style:{height:30,width:30}});default:return Object(ie.jsx)(ie.Fragment,{children:"ERROR"})}},_t=function(e){var t=e.data,n=e.refresh,c=e.setRefresh;console.log("data :>> ",t);var a,r=be.useMutation(ct,a),s=Object(J.a)(r,1)[0],i=function(e){return be.useMutation(Ze,e)}(),o=Object(J.a)(i,1)[0],d=Object(Z.useState)({socials:["I","E","T","F"]}),l=Object(J.a)(d,2),u=(l[0],l[1],Object(Z.useState)(t)),j=Object(J.a)(u,2),b=j[0],p=(j[1],Object(Z.useState)([{social_url:""},{social_url:""},{social_url:""},{social_url:""}])),O=Object(J.a)(p,2),m=O[0],h=O[1];return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(gt,{}),Object(ie.jsx)("div",{className:"container",children:Object(ie.jsxs)("div",{className:"center-align table-wrapper",children:[Object(ie.jsx)("span",{className:"table-header z-depth-2",children:Object(ie.jsx)("h3",{className:"white-text noselect",children:"Social Links"})}),Object(ie.jsx)("span",{className:"table-body z-depth-1",children:Object(ie.jsxs)("table",{className:"striped responsive",children:[Object(ie.jsx)("thead",{}),Object(ie.jsxs)("tbody",{children:[Object(ie.jsxs)("tr",{children:[Object(ie.jsx)("th",{children:"Icon"}),Object(ie.jsx)("th",{children:"URL"}),Object(ie.jsx)("th",{}),Object(ie.jsx)("th",{children:"Display"}),Object(ie.jsx)("th",{children:"Index"})]}),b.map((function(e,t){return Object(ie.jsxs)("tr",{children:[Object(ie.jsx)("td",{children:Object(ie.jsx)(ft,{social_logo:b[t].social_logo})}),Object(ie.jsx)("td",{children:Object(ie.jsxs)("div",{className:"input-field",children:[Object(ie.jsx)("input",{id:"social-input".concat(t),type:"text",className:"validate",value:m[t].social_url,onChange:function(){var e=Object(X.a)(Q.a.mark((function e(a){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=m)[t].social_url=a.target.value,h(r),c(!n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(ie.jsx)("label",{htmlFor:"social-input".concat(t),children:b[t].social_url}),Object(ie.jsx)("span",{id:"coupon-helper",className:"helper-text","data-error":" "})]})}),Object(ie.jsx)("td",{children:Object(ie.jsx)("button",{id:"update-social-".concat(t),className:"btn black",onClick:Object(X.a)(Q.a.mark((function e(){var n,c,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=document).getElementById("update-social-".concat(t)).classList.add("disabled"),e.next=4,s({variables:{id:b[t].id,url:m[t].social_url}});case 4:a=e.sent,(null===(n=a.data)||void 0===n?void 0:n.updateSocialUrl)?window.location.reload():M.toast({html:"An error has occured."}),c.getElementById("update-social-".concat(t)).classList.remove("disabled");case 7:case"end":return e.stop()}}),e)}))),children:"UPDATE"})}),Object(ie.jsx)("td",{children:b[t].display?Object(ie.jsx)("button",{className:"btn green",onClick:Object(X.a)(Q.a.mark((function e(){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:{id:b[t].id}});case 2:(n=e.sent).data&&n.data.toggleSocialDisplay?window.location.reload():M.toast({html:"An error occured"});case 4:case"end":return e.stop()}}),e)}))),children:"VISIBLE"}):Object(ie.jsx)("button",{className:"btn red",onClick:Object(X.a)(Q.a.mark((function e(){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:{id:b[t].id}});case 2:(n=e.sent).data&&n.data.toggleSocialDisplay?window.location.reload():M.toast({html:"An error occured"});case 4:case"end":return e.stop()}}),e)}))),children:"HIDDEN"})}),Object(ie.jsxs)("td",{children:[Object(ie.jsx)("a",{className:"dropdown-trigger btn",href:"#","data-target":"dropdown1",children:"Drop Me!"}),Object(ie.jsx)("ul",{id:"dropdown1",className:"dropdown-content",children:Object(ie.jsx)(vt,{socials:b})})]})]},t)}))]})]})})]})})]})},Nt=function(){var e=Object(X.a)(Q.a.mark((function e(t){var n,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(c=e.sent,!(null===(n=c.data)||void 0===n?void 0:n.initSocials)){e.next=7;break}window.location.reload(),e.next=8;break;case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=function(){var e,t={sortByProp:function(e,t,n){var c=[];e.forEach((function(n,a){c[a]=e[a][t]})),c.sort(),n&&c.reverse();for(var a=0;a<e.length;a++)for(var r=a;e[a][t]!==c[a];){var s=e.slice(r,r+2);s.reverse(),e[r]=s[0],e[r+1]=s[1],(r+=1)===e.length-1&&(r=a),e[e.length-1]||e.pop()}return e}}.sortByProp,n=be.useMutation(ze,e),c=Object(J.a)(n,1)[0],a=Object(Z.useState)(!1),r=Object(J.a)(a,2),s=r[0],i=r[1],o=function(e){return be.useQuery(Ye,e)}({variables:{component:"footer"}}),d=o.data,l=o.loading,u=o.error;return Object(Z.useEffect)((function(){M.FloatingActionButton.init(document.querySelectorAll(".fixed-action-btn")),M.Dropdown.init(document.querySelectorAll(".dropdown-trigger")),M.Tooltip.init(document.querySelectorAll(".tooltipped"))})),l?Object(ie.jsx)(ie.Fragment,{children:"...loading"}):u?Object(ie.jsx)(ie.Fragment,{children:"error"}):d&&0!==d.getSocials.length?(t(d.getSocials,"index"),Object(ie.jsx)(_t,{data:d.getSocials,setRefresh:i,refresh:s})):Nt(c)?Object(ie.jsx)(ie.Fragment,{children:"NO data"}):Object(ie.jsx)(ie.Fragment,{children:"error occured while initializing Socials"})},yt=function(){return console.log("gettings order id"),window.location.href.split(":")[2]},wt=function(){var e,t=Object(Z.useMemo)((function(){return yt()}),[yt]),n=(e={variables:{order_id:Number(t)}},be.useQuery(Re,e)),c=n.data,a=n.loading,r=n.error,s=function(e){return be.useMutation(Qe,e)}(),i=Object(J.a)(s,1)[0],o=Object(Z.useState)(!1),d=Object(J.a)(o,2),l=d[0],u=d[1];if(Object(Z.useEffect)((function(){var e=document.querySelectorAll(".modal");M.Modal.init(e)})),a)return Object(ie.jsx)(ie.Fragment,{children:"...loading"});if(!c)return Object(ie.jsx)("div",{className:"centered",children:Object(ie.jsx)("h3",{children:"No data was found"})});if(r)return Object(ie.jsxs)("div",{className:"centered",children:[Object(ie.jsx)("h3",{children:"An Error has occured."}),Object(ie.jsx)("h3",{children:r.message})]});console.log("data :>> ",c);var j,b,p=function(e){for(var t=0,n=100,c=0;c<e.length;c++)t+=e[c].productSubtotal,console.log("products[i].quantityOrdered :>> ",e[c].quantityOrdered),n+=50*e[c].quantityOrdered;return n>500&&(n=500),{productsSubtotal:Number(t/100).toFixed(2),shippingTotal:Number(n/100).toFixed(2)}}(c.getOrderById.products),O=p.productsSubtotal,m=p.shippingTotal,h=Number(c.getOrderById.order_total*Number("0."+c.getOrderById.discount)/100).toFixed(2);c.getOrderById.date_of_purchase&&(j=c.getOrderById.date_of_purchase.split(" "),b="".concat(j[0]," ").concat(j[1]," ").concat(j[2]," ").concat(j[3]));var x=JSON.parse(c.getOrderById.shipping);return Object(ie.jsxs)("div",{className:"container",children:[c.getOrderById.warning?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{id:"modal1",className:"modal",children:[Object(ie.jsx)("div",{className:"modal-content",children:Object(ie.jsx)("h4",{children:"Are you sure you want to remove this warning?"})}),Object(ie.jsx)("div",{className:"modal-footer",children:Object(ie.jsx)("a",{href:"#!",className:"modal-close btn red",onClick:Object(X.a)(Q.a.mark((function e(){var n,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({variables:{order_id:Number(t)}});case 2:c=e.sent,(null===(n=c.data)||void 0===n?void 0:n.removeWarning)?window.location.reload():(M.toast({html:"An Error has occurred"}),M.toast({html:"Please try again later or contact me on discord"}));case 4:case"end":return e.stop()}}),e)}))),children:"Remove"})})]}),Object(ie.jsx)("div",{className:"row",children:Object(ie.jsx)("div",{className:"col s12 ",children:Object(ie.jsx)("div",{className:"card",children:Object(ie.jsxs)("div",{className:"card-content",children:[Object(ie.jsxs)("span",{className:"card-title ",style:{fontWeight:"bold"},children:[Object(ie.jsx)("span",{className:"red-text",children:c.getOrderById.warning}),Object(ie.jsx)("span",{className:"right",children:Object(ie.jsx)("a",{className:"btn modal-trigger black",href:"#modal1",children:"Remove Warning"})})]}),Object(ie.jsx)("p",{className:"flow-text bold",children:"What to do:"}),Object(ie.jsx)("p",{className:"flow-text",style:{marginLeft:"32px"},children:"Double check the order. Ensure the customer paid the correct amount"}),Object(ie.jsx)("p",{className:"flow-text",style:{marginLeft:"32px"},children:"This error will be thrown anytime there is the slightest difference in calculations."}),Object(ie.jsx)("p",{className:"flow-text",style:{marginLeft:"32px"},children:"If the difference is greater than a couple of pennies please contact me through discord."})]})})})})]}):Object(ie.jsx)(ie.Fragment,{}),l?Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)("div",{className:"row",children:Object(ie.jsx)("div",{className:"col offset-s6 s6",children:Object(ie.jsx)("div",{className:"card",children:Object(ie.jsx)("div",{className:"card-content",children:Object(ie.jsx)("div",{className:"row",children:Object(ie.jsxs)("div",{className:"col s10 offset-s1",children:[Object(ie.jsx)("span",{className:"card-title",children:"Order Summary"}),Object(ie.jsx)("div",{className:"divider",style:{marginTop:"4px",marginBottom:"4px"}}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("span",{className:"left",children:"Products Total"}),Object(ie.jsxs)("span",{className:"right",children:["$",O]})]}),Object(ie.jsx)("br",{}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("span",{className:"left",children:"Tax"}),Object(ie.jsxs)("span",{className:"right",children:["$",Number(.095*Number(O)).toFixed(2)]})]}),Object(ie.jsx)("br",{}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("span",{className:"left",children:"Shipping"}),Object(ie.jsxs)("span",{className:"right",children:["$",m]})]}),Object(ie.jsx)("br",{}),Object(ie.jsx)(ie.Fragment,{children:c.getOrderById.coupon?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"divider",style:{marginTop:"4px",marginBottom:"4px"}}),Object(ie.jsxs)("span",{className:"left",children:["Coupon(",c.getOrderById.coupon,")"]}),Object(ie.jsxs)("span",{className:"right",children:[c.getOrderById.discount,"% (",Object(ie.jsxs)("span",{className:"red-text bold",children:["-$",h]}),")"]})]}):Object(ie.jsx)(ie.Fragment,{})}),Object(ie.jsx)("br",{}),Object(ie.jsx)("div",{className:"divider",style:{marginTop:"4px",marginBottom:"4px"}}),Object(ie.jsx)("span",{className:"left bold",children:"Order Total"}),Object(ie.jsxs)("span",{className:"right bold",children:["$",Number(c.getOrderById.order_total/100).toFixed(2)]})]})})})})})})}):Object(ie.jsx)(ie.Fragment,{}),Object(ie.jsx)("div",{style:{marginTop:"16px"},children:Object(ie.jsx)("div",{className:"row z-depth-1",children:Object(ie.jsxs)("div",{className:"col s12",style:{padding:"0px",backgroundColor:"white"},children:[Object(ie.jsxs)("div",{className:"card-header row",style:{borderLeft:"5px solid #ff0000",paddingTop:"13px",paddingBottom:"13px",paddingRight:"25px",paddingLeft:"20px",margin:"0px",zIndex:4,position:"relative"},children:[Object(ie.jsxs)("span",{className:"hide-on-small-only",style:{display:"inline-block",width:"41.7%"},children:[Object(ie.jsx)("span",{style:{color:"#1d252c",paddingRight:"1rem",fontWeight:700},children:"Order ID"}),Object(ie.jsxs)("span",{children:["CR-",c.getOrderById.order_id]})]}),Object(ie.jsxs)("span",{className:"hide-on-med-and-up",style:{display:"inline-block",width:"50%"},children:[Object(ie.jsx)("span",{style:{color:"#1d252c",paddingRight:"1rem",fontWeight:700},children:"Order ID"}),Object(ie.jsxs)("span",{children:["CR-",c.getOrderById.order_id]})]}),Object(ie.jsx)("span",{style:{display:"inline-block",width:"17%"},className:"hide-on-med-and-down",children:c.getOrderById.date_of_purchase?Object(ie.jsx)("span",{children:b}):Object(ie.jsx)(ie.Fragment,{})}),Object(ie.jsx)("span",{style:{display:"inline-block",width:"30.3%",fontWeight:700},children:Object(ie.jsxs)("span",{style:{display:"flex",justifyContent:"space-between"},children:[Object(ie.jsxs)("span",{children:["$",Number(c.getOrderById.order_total/100).toFixed(2)," ",c.getOrderById.discount?Object(ie.jsxs)("span",{children:["(",Object(ie.jsxs)("span",{style:{color:"rgb(255, 0, 0)"},children:["-$",h]}),")"]}):Object(ie.jsx)(ie.Fragment,{})]}),Object(ie.jsx)("span",{children:Object(ie.jsx)("span",{style:{color:"#0457c8"},className:"right",onClick:function(){return u(!l)},children:"Payment Details"})})]})})]}),Object(ie.jsx)("div",{className:"divider"}),Object(ie.jsx)("div",{className:"card-body",style:{backgroundColor:"white",zIndex:2,position:"relative"},children:c.getOrderById.products.map((function(e,t){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsx)("div",{className:"col m4",children:Object(ie.jsx)("img",{style:{width:"100%"},src:c.getOrderById.products[t].images[0].img_url})}),Object(ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",paddingLeft:0},className:"col m2 offset-m1 hide-on-small-only",children:[Object(ie.jsx)("p",{className:"flow-text",style:{fontSize:"16px",fontWeight:"bold"},children:c.getOrderById.products[t].name}),Object(ie.jsxs)("p",{className:"hide-on-small-only",children:["Qty:"," ",c.getOrderById.products[t].quantityOrdered," ","($",Number(c.getOrderById.products[t].productSubtotal/100).toFixed(2)," ",1===c.getOrderById.products[t].quantityOrdered?Object(ie.jsx)(ie.Fragment,{}):Object(ie.jsxs)(ie.Fragment,{children:["@ $",Number(c.getOrderById.products[t].price/100).toFixed(2)," ","each"]}),")"]})]}),Object(ie.jsx)("div",{className:"col offset-m1 m3",children:Object(ie.jsx)(ie.Fragment,{children:0===t?Object(ie.jsx)(ie.Fragment,{children:x?Object(ie.jsx)("div",{style:{width:"100%",borderLeft:" 4px solid #ff0000",paddingLeft:"15px"},children:Object(ie.jsxs)("p",{className:"bold",children:[x.name?Object(ie.jsx)(ie.Fragment,{children:x.name}):Object(ie.jsx)(ie.Fragment,{children:"No name was found"}),Object(ie.jsx)("br",{}),x.line1,Object(ie.jsx)("br",{}),x.city,","," ",x.state," ",x.postal_code,Object(ie.jsx)("br",{}),x.country]})}):Object(ie.jsx)("p",{className:"bold",children:"No shipping information was found, check paypal, or contact the user."})}):Object(ie.jsx)(ie.Fragment,{children:" "})})}),Object(ie.jsx)("div",{style:{display:"flex",justifyContent:"center"},className:"col s12 hide-on-med-and-up",children:Object(ie.jsx)("p",{className:"flow-text",style:{fontSize:"16px",fontWeight:"bold"},children:c.getOrderById.products[t].name})})]},t)})}))})]})})})]})},kt=function(){var e,t=be.useQuery($e,e),n=t.data,c=t.loading,a=t.error,r=function(e){return be.useMutation(Te,e)}(),s=Object(J.a)(r,1)[0],i={sortByProp:function(e,t,n){var c=[];e.forEach((function(n,a){c[a]=e[a][t]})),c.sort(),n&&c.reverse();for(var a=0;a<e.length;a++)for(var r=a;e[a][t]!==c[a];){var s=e.slice(r,r+2);s.reverse(),e[r]=s[0],e[r+1]=s[1],(r+=1)===e.length-1&&(r=a),e[e.length-1]||e.pop()}return e}}.sortByProp,o=Object(Z.useState)({tracking:[]}),d=Object(J.a)(o,2),l=d[0],u=d[1];if(c)return Object(ie.jsx)(ie.Fragment,{children:"...loading"});if(!n||a)return console.log("error :>> ",a),M.toast({html:"".concat(a)}),Object(ie.jsx)("div",{className:"centered",children:Object(ie.jsx)("h1",{className:"red-text",children:"An Error has occurred"})});var j=i(n.getOrders,"order_id",!0);return Object(ie.jsx)("div",{className:"container",children:Object(ie.jsxs)("table",{children:[Object(ie.jsx)("thead",{children:Object(ie.jsxs)("tr",{children:[Object(ie.jsx)("th",{children:"Order ID"}),Object(ie.jsx)("th",{children:"Tracking Number"}),Object(ie.jsx)("th",{children:"Products Ordered"}),Object(ie.jsx)("th",{children:"Order Total"})]})}),Object(ie.jsx)("tbody",{children:j.map((function(e,t){var n=j[t];return n.warning&&M.toast({html:"Order #".concat(n.order_id," has a warning")}),Object(ie.jsxs)("tr",{className:n.warning?"red":"",children:[Object(ie.jsx)("td",{children:null===n||void 0===n?void 0:n.order_id}),Object(ie.jsx)("td",{children:Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsx)("div",{className:"col s7",children:Object(ie.jsx)("div",{className:"row",children:Object(ie.jsxs)("div",{className:"input-field",children:[Object(ie.jsx)("input",{id:"tracking-".concat(t),type:"text",value:l.tracking[t],onChange:function(e){var n=l.tracking;n[t]=e.target.value,u(Object(ce.a)(Object(ce.a)({},l),{},{tracking:n}))}}),Object(ie.jsx)("label",{htmlFor:"tracking-".concat(t),children:(null===n||void 0===n?void 0:n.tracking_num)?Object(ie.jsx)(ie.Fragment,{children:n.tracking_num}):Object(ie.jsx)(ie.Fragment,{children:"NONE"})})]})})}),Object(ie.jsx)("div",{className:"col s4 offset-s1",style:{marginTop:"25px"},children:Object(ie.jsx)("button",{className:"btn black",onClick:Object(X.a)(Q.a.mark((function e(){var c,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.tracking[t]){e.next=7;break}return e.next=3,s({variables:{order_id:n.order_id,new_tracking_num:l.tracking[t]}});case 3:(c=e.sent)&&(null===(a=c.data)||void 0===a?void 0:a.editTracking)?window.location.reload():(M.toast({html:"Failed"}),M.toast({html:"Contact me on discord"})),e.next=8;break;case 7:console.log("undefined");case 8:case"end":return e.stop()}}),e)}))),children:"Submit"})})]})}),Object(ie.jsx)("td",{children:null===n||void 0===n?void 0:n.products.map((function(e,t){return Object(ie.jsxs)("div",{className:"row",children:[n.products[t].name," x"," ",n.products[t].quantityOrdered]},t)}))}),Object(ie.jsxs)("td",{children:["$",Number(n.order_total/100).toFixed(2)]}),Object(ie.jsx)("td",{children:Object(ie.jsx)("a",{href:"#/order-details:".concat(n.order_id),children:"See Details"})})]},t)}))})]})})},Ct=(n(138),function(){var e=Object(re.g)();e.state&&e.state.reload&&window.location.reload();var t,n=be.useQuery(qe,t),c=n.data,a=n.loading,r=n.error;return a?Object(ie.jsx)(ie.Fragment,{children:"...loading"}):!c||r?(console.log("error :>> ",r),M.toast({html:"".concat(r)}),Object(ie.jsx)("div",{className:"centered",children:Object(ie.jsx)("h1",{className:"red-text",children:"An Error has occurred"})})):(console.log("data",c),Object(ie.jsxs)("div",{className:"container",style:{marginTop:"50px"},children:[Object(ie.jsx)("nav",{className:"z-depth-0 black-text ",style:{backgroundColor:"transparent"},children:Object(ie.jsxs)("div",{className:"nav-wrapper",children:[Object(ie.jsx)("h5",{className:"left",style:{marginBottom:"48px",marginLeft:"16px",marginRight:"16px",fontWeight:"bold",fontSize:"26px",color:"#14161a"},children:"Products"}),Object(ie.jsx)("ul",{className:"right",children:Object(ie.jsx)("li",{children:Object(ie.jsx)("a",{href:"#/add-products",children:Object(ie.jsx)("i",{className:"material-icons black-text",children:"add"})})})})]})}),Object(ie.jsx)("div",{className:"products-grid",children:null===c||void 0===c?void 0:c.apiGetProducts.map((function(e,t){var n=c.apiGetProducts[t];return Object(ie.jsxs)("div",{className:"card",style:{margin:"0px 16px 32px 16px"},children:[Object(ie.jsxs)("div",{className:"card-image",children:[n.images[0]&&n.images[0].img_url?Object(ie.jsx)("img",{src:n.images[0].img_url,style:{maxHeight:"280px"}}):Object(ie.jsx)("img",{src:"https://materializecss.com/images/sample-1.jpg"}),Object(ie.jsx)("a",{href:"#/edit-product:".concat(n.product_id),className:"btn-floating btn-large halfway-fab large blue-grey darken-4",children:Object(ie.jsx)("i",{className:"large material-icons",children:"edit"})})]}),Object(ie.jsxs)("div",{className:"card-content",children:[Object(ie.jsx)("span",{className:"card-title",children:n.name}),Object(ie.jsxs)("p",{className:"product-price",children:["$",Number(n.price/100).toFixed(2)]}),Object(ie.jsx)("p",{children:n.desc})]})]},t)}))})]}))}),Pt=n(19),Et=n.n(Pt),Tt=function(){var e,t=be.useQuery(Fe,e),n=t.data,c=t.loading,a=t.error,r=function(e){return be.useMutation(pe,e)}(),s=Object(J.a)(r,1)[0],i=function(e){return be.useMutation(ye,e)}(),o=Object(J.a)(i,1)[0],d=Object(Z.useState)(!1),l=Object(J.a)(d,2),u=l[0],j=l[1],b=Object(Z.useState)(""),p=Object(J.a)(b,2),O=p[0],m=p[1];if(Object(Z.useEffect)((function(){Et.a.AutoInit()})),c)return Object(ie.jsx)(ie.Fragment,{children:"...loading"});if(!n||a)return console.log("error :>> ",a),Et.a.toast({html:"".concat(a)}),Object(ie.jsx)("div",{className:"centered",children:Object(ie.jsx)("h1",{className:"red-text",children:"An Error has occurred"})});var h=n.getAnnouncements;return Object(ie.jsxs)("div",{className:"container",children:[Object(ie.jsx)("h1",{className:"center-align",children:"Announcements"}),0===h.length?Object(ie.jsx)("h4",{className:"center-align",children:"NONE"}):Object(ie.jsx)(ie.Fragment,{children:h.map((function(e,t){return Object(ie.jsxs)("div",{className:"container",style:{display:"flex",justifyContent:"space-between"},children:[Object(ie.jsx)("h4",{className:"center-align",children:h[t].text}),Object(ie.jsx)("i",{className:"material-icons red-text noselect",onClick:Object(X.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o({variables:{id:h[t].id}});case 3:window.location.reload(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),Et.a.toast({html:"An error occured"}),Et.a.toast({html:"Could not add Announcement"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))),children:"delete"})]},t)}))}),Object(ie.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(ie.jsx)("button",{className:"btn black",onClick:function(){j(!0)},children:"Add an Announcement"})}),u?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{className:"input-field",children:[Object(ie.jsx)("input",{id:"text_1",className:"validate",type:"text",value:O,onChange:function(e){return m(e.target.value)}}),Object(ie.jsx)("label",{htmlFor:"text_1",children:"Announcement Text"})]}),Object(ie.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(ie.jsx)("button",{className:"btn green",onClick:Object(X.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=11;break}return e.prev=1,e.next=4,s({variables:{text:O}});case 4:window.location.reload(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),Et.a.toast({html:"An error occured"}),Et.a.toast({html:"Could not add Announcement"});case 11:case"end":return e.stop()}}),e,null,[[1,7]])}))),children:"Confirm"})})]}):Object(ie.jsx)(ie.Fragment,{})]})},Ft=function(){var e,t=be.useQuery(De,e),n=t.data,c=t.loading,a=t.error,r=function(e){return be.useMutation(me,e)}(),s=Object(J.a)(r,1)[0],i=function(e){return be.useMutation(ke,e)}(),o=Object(J.a)(i,1)[0],d=Object(Z.useState)(""),l=Object(J.a)(d,2),u=l[0],j=l[1],b=Object(Z.useState)(""),p=Object(J.a)(b,2),O=p[0],m=p[1],h=Object(Z.useState)(!1),x=Object(J.a)(h,2),g=x[0],v=x[1],f=Object(Z.useState)(!1),_=Object(J.a)(f,2),N=_[0],S=_[1];return Object(Z.useEffect)((function(){var e=document.querySelectorAll(".modal");Et.a.Modal.init(e),e=document.querySelectorAll(".dropdown-trigger"),Et.a.Dropdown.init(e),Et.a.AutoInit()})),c?Object(ie.jsx)(ie.Fragment,{children:"...loading"}):!n||a?(console.log("error :>> ",a),Et.a.toast({html:"".concat(a)}),Object(ie.jsx)("div",{className:"centered",children:Object(ie.jsx)("h1",{className:"red-text",children:"An Error has occurred"})})):Object(ie.jsxs)("div",{className:"container",children:[Object(ie.jsx)("h1",{className:"center-align",children:"Active Coupons"}),0===(null===n||void 0===n?void 0:n.getCoupons.length)?Object(ie.jsx)("h4",{className:"center-align",children:"NONE"}):Object(ie.jsx)(ie.Fragment,{children:null===n||void 0===n?void 0:n.getCoupons.map((function(e,t){return Object(ie.jsxs)("div",{className:"container",style:{display:"flex",justifyContent:"space-between"},children:[Object(ie.jsx)("h4",{className:"center-align",children:n.getCoupons[t].coupon_name}),Object(ie.jsxs)("h5",{className:"center-align",children:["-",n.getCoupons[t].discount?n.getCoupons[t].discount:0,"%"]}),Object(ie.jsx)("i",{className:"material-icons red-text",onClick:Object(X.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:{coupon_name:n.getCoupons[t].coupon_name}});case 2:e.sent.data.deleteCoupon?window.location.reload():(Et.a.toast({html:"An error occured"}),Et.a.toast({html:"Could not delete coupon"}));case 4:case"end":return e.stop()}}),e)}))),children:"delete"})]},t)}))}),Object(ie.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(ie.jsx)("button",{className:"btn black",onClick:function(){v(!0)},children:"Add a coupon"})}),g?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:"24px"},children:Object(ie.jsx)("a",{className:"dropdown-trigger btn black",href:"#","data-target":"dropdown1",children:N?Object(ie.jsx)(ie.Fragment,{children:"Coupon Type: Free Shipping"}):Object(ie.jsx)(ie.Fragment,{children:"Coupon Type: Discount"})})}),Object(ie.jsxs)("ul",{id:"dropdown1",className:"dropdown-content",children:[Object(ie.jsx)("li",{onClick:function(){S(!1)},children:"discount"}),Object(ie.jsx)("li",{onClick:function(){S(!0),m("FREE_SHIPPING")},children:"free shipping"})]}),Object(ie.jsxs)("div",{className:"row",style:{marginTop:"32px"},children:[Object(ie.jsx)("div",{className:"col s6",children:Object(ie.jsxs)("div",{className:"input-field",children:[Object(ie.jsx)("input",{id:"coupon_name",type:"text",className:"validate",value:u,onChange:function(e){return j(e.target.value.toLowerCase())}}),Object(ie.jsx)("label",{htmlFor:"coupon_name",children:"Coupon Name"}),Object(ie.jsx)("span",{className:"helper-text","data-error":"Please enter a coupon name"})]})}),Object(ie.jsx)("div",{className:"col s6",children:N?Object(ie.jsx)(ie.Fragment,{}):Object(ie.jsxs)("div",{className:"input-field",children:[Object(ie.jsx)("input",{id:"discount",type:"text",className:"validate",minLength:0,maxLength:2,value:O,onChange:function(e){e.target.value||m("0"),e.target.value.match(/\d/g)&&m(e.target.value)}}),Object(ie.jsx)("label",{htmlFor:"discount",children:"Discount(Percentage in Numbers)"}),Object(ie.jsx)("span",{className:"helper-text","data-error":"Please enter a discount amount"})]})})]}),Object(ie.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(ie.jsx)("button",{className:"btn green center-align",onClick:Object(X.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==u.length&&0!==O.length){e.next=5;break}0===u.length&&document.getElementById("coupon_name").classList.add("invalid"),N||0!==O.length||document.getElementById("discount").classList.add("invalid"),e.next=17;break;case 5:if(N){e.next=12;break}return e.next=8,s({variables:{coupon_name:u,discount:O}});case 8:e.sent.data.addCoupon?window.location.reload():(Et.a.toast({html:"An error occured"}),Et.a.toast({html:"Could not add coupon"})),e.next=17;break;case 12:return e.next=14,s({variables:{coupon_name:u,discount:"FREE_SHIPPING"}});case 14:t=e.sent,console.log("tmp :>> ",t),t.data.addCoupon?window.location.reload():(Et.a.toast({html:"An error occured"}),Et.a.toast({html:"Could not add coupon"}));case 17:case"end":return e.stop()}}),e)}))),children:"confirm"})})]}):Object(ie.jsx)(ie.Fragment,{})]})},At=(n(139),function(){var e,t=be.useQuery(Ae,e),n=t.data,c=t.loading,a=t.error,r=function(e){return be.useMutation(we,e)}(),s=Object(J.a)(r,1)[0],i=function(e){return be.useMutation(Oe,e)}(),o=Object(J.a)(i,1)[0],d=Object(Z.useState)(""),l=Object(J.a)(d,2),u=l[0],j=l[1],b=Object(Z.useState)(""),p=Object(J.a)(b,2),O=p[0],m=p[1];return c?Object(ie.jsx)(ie.Fragment,{children:"...loading"}):!n||a?Object(ie.jsx)(ie.Fragment,{children:"An error has occurred"}):(console.log("data :>> ",n),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)("div",{className:"container",children:Object(ie.jsxs)("div",{className:"center-align table-wrapper",children:[Object(ie.jsx)("span",{className:"table-header z-depth-2",children:Object(ie.jsx)("h3",{className:"white-text noselect",children:"Api Users"})}),Object(ie.jsxs)("span",{className:"table-body z-depth-1",children:[Object(ie.jsx)("div",{className:"container",children:Object(ie.jsx)("table",{className:"striped responsive",children:Object(ie.jsxs)("tbody",{children:[Object(ie.jsxs)("tr",{children:[Object(ie.jsx)("th",{}),Object(ie.jsx)("th",{children:"Username"}),Object(ie.jsx)("th",{}),Object(ie.jsx)("th",{})]}),n.getApiUsers.map((function(e,t){return Object(ie.jsxs)("tr",{children:[Object(ie.jsx)("td",{}),Object(ie.jsx)("td",{children:n.getApiUsers[t].username}),Object(ie.jsx)("td",{children:Object(ie.jsx)("i",{className:"material-icons red-text noselect",onClick:Object(X.a)(Q.a.mark((function e(){var c,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({variables:{uuid:n.getApiUsers[t].uuid}});case 2:a=e.sent,(null===(c=a.data)||void 0===c?void 0:c.deleteApiUser)?window.location.reload():M.toast({html:"An Error has occured"});case 4:case"end":return e.stop()}}),e)}))),children:"delete"})}),Object(ie.jsx)("td",{})]},t)}))]})})}),Object(ie.jsx)("div",{className:"divider"}),Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsx)("div",{className:"col s4",children:Object(ie.jsxs)("div",{className:"input-field",children:[Object(ie.jsx)("input",{id:"username",type:"text",className:"validate",value:u,onChange:function(e){return j(e.target.value)}}),Object(ie.jsx)("label",{htmlFor:"username",children:"Username"}),Object(ie.jsx)("span",{id:"coupon-helper",className:"helper-text","data-error":"Please enter a username"})]})}),Object(ie.jsx)("div",{className:"col s4",children:Object(ie.jsxs)("div",{className:"input-field",children:[Object(ie.jsx)("input",{id:"pass",type:"text",className:"validate",value:O,onChange:function(e){return m(e.target.value)}}),Object(ie.jsx)("label",{htmlFor:"pass",children:"Password"}),Object(ie.jsx)("span",{id:"coupon-helper",className:"helper-text","data-error":"Please enter a password"})]})}),Object(ie.jsx)("div",{className:"col s3",children:Object(ie.jsx)("button",{style:{width:"100%"},className:"btn right footerBtn green",onClick:Object(X.a)(Q.a.mark((function e(){var t,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.getElementById("pass").classList.remove("invalid"),document.getElementById("username").classList.remove("invalid"),O&&u){e.next=7;break}O||document.getElementById("pass").classList.add("invalid"),u||document.getElementById("username").classList.add("invalid"),e.next=11;break;case 7:return e.next=9,o({variables:{username:u,password:O}});case 9:n=e.sent,(null===(t=n.data)||void 0===t?void 0:t.addApiUser)?window.location.reload():M.toast({html:"An Error has occurred"});case 11:case"end":return e.stop()}}),e)}))),children:"Create a user"})})]})]})]})})}))}),Dt=function(){var e,t=be.useQuery(Ie,e),n=t.data,c=t.loading,a=t.error,r=function(e){return be.useMutation(Xe,e)}(),s=Object(J.a)(r,1)[0];return c?Object(ie.jsx)(ie.Fragment,{children:"...loading"}):!n||a?Object(ie.jsx)("div",{className:"container",children:Object(ie.jsx)("h5",{children:"Maintenance: ERR"})}):Object(ie.jsx)("div",{className:"container",children:Object(ie.jsx)("div",{className:"centered",style:{marginTop:"32px"},children:Object(ie.jsx)("h4",{children:Object(ie.jsxs)("span",{className:"switch",children:["Maintenance:"," ",n.getMaintenance?Object(ie.jsxs)("label",{children:["Off",Object(ie.jsx)("input",{type:"checkbox",checked:!0}),Object(ie.jsx)("span",{className:"lever",onClick:Object(X.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})))}),"On"]}):Object(ie.jsxs)("label",{children:["Off",Object(ie.jsx)("input",{type:"checkbox"}),Object(ie.jsx)("span",{className:"lever",onClick:Object(X.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})))}),"On"]})]})})})})},It=function(){return Object(ie.jsx)("div",{className:"centered",children:Object(ie.jsx)("div",{className:"container",style:{margin:45},children:Object(ie.jsx)("div",{className:"divider",style:{color:"black"}})})})},Rt=function(){return Object(ie.jsxs)("div",{children:[Object(ie.jsx)(Dt,{}),Object(ie.jsx)(It,{}),Object(ie.jsx)(Ft,{}),Object(ie.jsx)(It,{}),Object(ie.jsx)(Tt,{}),Object(ie.jsx)(It,{}),Object(ie.jsx)(At,{}),Object(ie.jsx)(It,{})]})},$t=function(){var e=Object(re.g)();console.log("location",e),e.state&&e.state.reload&&window.location.reload();var t=Ke(),n=t.data,c=t.loading,a=t.error;return c?Object(ie.jsx)(ie.Fragment,{children:"...loading"}):a?(M.toast({html:"".concat(a)}),Object(ie.jsx)("div",{className:"centered",children:Object(ie.jsx)("h1",{className:"red-text",children:"An Error has occurred"})})):(console.log("data :>> ",n),Object(ie.jsxs)("div",{className:"container",children:[Object(ie.jsx)("nav",{className:"z-depth-0 black-text ",style:{backgroundColor:"transparent"},children:Object(ie.jsxs)("div",{className:"nav-wrapper",children:[Object(ie.jsx)("h5",{className:"left",style:{marginBottom:"48px",marginLeft:"16px",marginRight:"16px",fontWeight:"bold",fontSize:"26px",color:"#14161a"},children:"Sections"}),Object(ie.jsx)("ul",{className:"right",children:Object(ie.jsx)("li",{children:Object(ie.jsx)("a",{href:"#/add-sections",children:Object(ie.jsx)("i",{className:"material-icons black-text",children:"add"})})})})]})}),Object(ie.jsx)("div",{className:"products-grid",children:n?n.getSections.map((function(e,t){return Object(ie.jsxs)("div",{className:"card",style:{margin:"0px, 16px, 32px, 16px"},children:[Object(ie.jsxs)("div",{className:"card-image",children:[Object(ie.jsx)("img",{src:n.getSections[t].thumbnail}),Object(ie.jsx)("a",{href:"#/edit-section:".concat(n.getSections[t].section_id),className:"btn-floating btn-large halfway-fab large blue-grey darken-4",children:Object(ie.jsx)("i",{className:"large material-icons",children:"edit"})})]}),Object(ie.jsx)("div",{className:"card-content",children:Object(ie.jsx)("span",{className:"card-title",children:n.getSections[t].name})})]},t)})):Object(ie.jsx)(ie.Fragment,{})})]}))},Lt=function(){var e,t=be.useMutation(_e,e),n=Object(J.a)(t,1)[0],c=Object(Z.useState)(""),a=Object(J.a)(c,2),r=a[0],s=a[1],i=Object(Z.useState)(""),o=Object(J.a)(i,2),d=o[0],l=o[1],u=Object(Z.useState)(!1),j=Object(J.a)(u,2),b=j[0],p=j[1],O=function(){var e=Object(X.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&d){e.next=5;break}r||M.toast({html:"Please add a Section name"}),d||M.toast({html:"Please add a img"}),e.next=9;break;case 5:return e.next=7,n({variables:{name:r,thumbnail:d}});case 7:(t=e.sent).data&&t.data.addSection?p(!0):M.toast({html:"An Error has occurred"});case 9:document.getElementById("submit-btn")&&document.getElementById("submit-btn").classList.remove("disabled");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(X.a)(Q.a.mark((function e(t){var n,c,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new FormData,Object({NODE_ENV:"production",PUBLIC_URL:"/crjp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUDINARY_CLOUD_NAME&&Object({NODE_ENV:"production",PUBLIC_URL:"/crjp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUDINARY_API_KEY){e.next=4;break}return M.toast({html:"env err"}),e.abrupt("return");case 4:return n.append("api_key","".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/crjp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUDINARY_API_KEY)),n.append("file",t),n.append("tags","codeinfuse, medium, gist"),n.append("upload_preset","re5zmdqn"),c=Date.now()/1e3|0,n.append("timestamp","".concat(c)),e.next=12,st.a.post("https://api.cloudinary.com/v1_1/".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/crjp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUDINARY_CLOUD_NAME,"/image/upload"),n,{headers:{"X-Requested-With":"XMLHttpRequest"}});case 12:a=e.sent,l(a.data.secure_url);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return b?Object(ie.jsx)(re.a,{to:{pathname:"/sections",state:{reload:!0}}}):Object(ie.jsxs)("div",{className:"container",children:[Object(ie.jsx)("div",{className:"row",children:Object(ie.jsx)("h5",{children:"Add A Section"})}),Object(ie.jsx)("form",{children:Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsxs)("div",{className:"input-field",children:[Object(ie.jsx)("input",{id:"name",type:"text",value:r,onChange:function(e){return s(e.target.value)}}),Object(ie.jsx)("label",{htmlFor:"name",children:"Section Name (Required)"}),Object(ie.jsx)("span",{className:"helper-text","data-error":"Please enter a section name"})]}),Object(ie.jsx)("div",{className:"container",children:Object(ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(ie.jsx)("button",{id:"submit-btn",className:"btn green",onClick:function(){document.getElementById("submit-btn").classList.add("disabled"),O()},children:"Submit"}),Object(ie.jsx)(at.a,{onDrop:function(){var e=Object(X.a)(Q.a.mark((function e(t){var n,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(J.a)(t,1),c=n[0],e.abrupt("return",m(c));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(ie.jsxs)("div",Object(ce.a)(Object(ce.a)({},t()),{},{children:[Object(ie.jsx)("input",Object(ce.a)({},n())),Object(ie.jsx)("button",{className:"btn black",children:"ONLY 1 IMAGE (Required)"}),Object(ie.jsx)("br",{}),Object(ie.jsx)("span",{children:"Multiple images coming soon"})]}))}})]})})]})}),d?Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)("img",{src:d,alt:"thumbnail"})}):Object(ie.jsx)(ie.Fragment,{})]})},Mt=function(){var e,t=Number(window.location.href.split(":")[2]),n=Object(Z.useState)(""),c=Object(J.a)(n,2),a=c[0],r=c[1],s=Object(Z.useState)(""),i=Object(J.a)(s,2),o=i[0],d=i[1],l=be.useMutation(nt,e),u=Object(J.a)(l,1)[0],j=function(e){return be.useMutation(Ee,e)}(),b=Object(J.a)(j,1)[0],p=function(e){return be.useQuery(We,e)}({variables:{section_id:t}}),O=p.data,m=p.loading,h=p.error;if(m)return Object(ie.jsx)(ie.Fragment,{children:"...loading"});if(h||!O)return Object(ie.jsx)(re.a,{to:{pathname:"/sections",state:{reload:!0}}});var x=function(){var e=Object(X.a)(Q.a.mark((function e(t){var n,c,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new FormData,Object({NODE_ENV:"production",PUBLIC_URL:"/crjp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUDINARY_CLOUD_NAME&&Object({NODE_ENV:"production",PUBLIC_URL:"/crjp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUDINARY_API_KEY){e.next=4;break}return M.toast({html:"env err"}),e.abrupt("return");case 4:return n.append("api_key","".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/crjp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUDINARY_API_KEY)),n.append("file",t),n.append("tags","codeinfuse, medium, gist"),n.append("upload_preset","re5zmdqn"),c=Date.now()/1e3|0,n.append("timestamp","".concat(c)),e.next=12,st.a.post("https://api.cloudinary.com/v1_1/".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/crjp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUDINARY_CLOUD_NAME,"/image/upload"),n,{headers:{"X-Requested-With":"XMLHttpRequest"}});case 12:a=e.sent,d(a.data.secure_url);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log("data :>> ",O);var g=function(){var e=Object(X.a)(Q.a.mark((function e(){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({variables:{section_id:t,name:a,thumbnail:o}});case 2:(n=e.sent).data&&n.data.updateSection?window.location.reload():M.toast({html:"an error has occured"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ie.jsxs)("div",{className:"container",children:[Object(ie.jsx)("div",{className:"row",children:Object(ie.jsx)("h5",{children:"Edit Section"})}),Object(ie.jsxs)("form",{children:[Object(ie.jsx)("div",{className:"row",children:Object(ie.jsxs)("div",{className:"input-field",children:[Object(ie.jsx)("input",{className:"input-field",id:"name",type:"text",value:a,onChange:function(e){r(e.target.value)}}),Object(ie.jsx)("label",{id:"name-label",htmlFor:"name",children:O.getSectionById.name})]})}),Object(ie.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(ie.jsx)("button",{className:"btn green",id:"submit-btn",onClick:function(){return g()},children:"Submit"}),Object(ie.jsx)(at.a,{onDrop:function(){var e=Object(X.a)(Q.a.mark((function e(t){var n,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(J.a)(t,1),c=n[0],e.abrupt("return",x(c));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(ie.jsxs)("span",Object(ce.a)(Object(ce.a)({},t()),{},{children:[Object(ie.jsx)("input",Object(ce.a)({},n())),Object(ie.jsx)("button",{className:"btn black",id:"img_btn",children:"Replace Image"})]}))}}),Object(ie.jsx)("button",{className:"btn modal-trigger red",id:"delete-button","data-target":"modal1",onClick:Object(X.a)(Q.a.mark((function e(){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({variables:{section_id:t}});case 2:(n=e.sent).data&&n.data.deleteSection?window.location.reload():M.toast({html:"an error occured"});case 4:case"end":return e.stop()}}),e)}))),children:"Delete"})]})]}),o?Object(ie.jsx)("img",{src:o,alt:"thumbnail"}):Object(ie.jsx)("img",{src:O.getSectionById.thumbnail,alt:"thumbnail"})]})},qt=function(){return Object(ie.jsxs)(re.d,{children:[Object(ie.jsx)(de,{exact:!0,path:"/orders",component:kt}),Object(ie.jsx)(de,{exact:!0,path:"/products",component:Ct}),Object(ie.jsx)(de,{exact:!0,path:"/add-products",component:it}),Object(ie.jsx)(de,{exact:!0,path:"/edit-product:id",component:ht}),Object(ie.jsx)(de,{exact:!0,path:"/utils",component:Rt}),Object(ie.jsx)(de,{exact:!0,path:"/edit-socials",component:St}),Object(ie.jsx)(de,{exact:!0,path:"/sections",component:$t}),Object(ie.jsx)(de,{exact:!0,path:"/add-sections",component:Lt}),Object(ie.jsx)(de,{exact:!0,path:"/edit-section:id",component:Mt}),Object(ie.jsx)(de,{exact:!0,path:"/order-details:id",component:wt}),Object(ie.jsx)(re.b,{render:function(){return Object(ie.jsx)(re.a,{to:"/products"})}})]})},Bt=function(){var e,t=Object(Z.useState)(""),n=Object(J.a)(t,2),c=n[0],a=n[1],r=Object(Z.useState)(""),s=Object(J.a)(r,2),i=s[0],o=s[1],d=be.useMutation(Se,e),l=Object(J.a)(d,1)[0],u=function(){var e=Object(X.a)(Q.a.mark((function e(){var t,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l({variables:{username:c,password:i}});case 3:t=e.sent,console.log("res :>> ",t),t&&t.data&&(n=t.data.apiLogin.accessToken,te(n),localStorage.setItem("urd",t.data.apiLogin.refreshToken),window.location.reload()),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("err :>> ",e.t0),Et.a.toast({html:"Failed Login"}),Et.a.toast({html:"server is likely down"});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(ie.jsx)("div",{className:"login-wrapper",style:{backgroundColor:"#000",minHeight:"100vh",minWidth:"100vw"},children:Object(ie.jsx)("div",{className:"container",children:Object(ie.jsx)("div",{className:"row",children:Object(ie.jsx)("div",{className:"col s12",children:Object(ie.jsx)("div",{className:"card",children:Object(ie.jsx)("div",{className:"card-content",children:Object(ie.jsxs)("div",{children:[Object(ie.jsx)("h5",{className:"center-align",children:"Login"}),Object(ie.jsxs)("form",{children:[Object(ie.jsx)("div",{className:"row",children:Object(ie.jsxs)("div",{className:"input-field",children:[Object(ie.jsx)("input",{id:"username",type:"text",value:c,onChange:function(e){return a(e.target.value)}}),Object(ie.jsx)("label",{htmlFor:"username",children:"Username"})]})}),Object(ie.jsx)("div",{className:"row",children:Object(ie.jsxs)("div",{className:"input-field",children:[Object(ie.jsx)("input",{id:"password",type:"password",value:i,onChange:function(e){return o(e.target.value)}}),Object(ie.jsx)("label",{htmlFor:"password",children:"Password"})]})}),Object(ie.jsx)("div",{className:"row",style:{display:"flex",justifyContent:"center"},children:Object(ie.jsx)("button",{className:"btn",style:{minWidth:"150px",backgroundColor:"#4285f4",color:"#fff"},onClick:function(){return u()},children:"Login"})})]})]})})})})})})})},Ut=n(47),Wt=function(){return Object(ie.jsx)(Ut.a,{children:Object(ie.jsx)("div",{className:"App",children:oe()?Object(ie.jsx)(ue,{children:Object(ie.jsx)(qt,{})}):Object(ie.jsxs)(re.d,{children:[Object(ie.jsx)(re.b,{exact:!0,path:"/login",component:Bt}),Object(ie.jsx)(re.b,{render:function(){return Object(ie.jsx)(re.a,{to:"/login"})}})]})})})},Ht="https://shrouded-plains-70355.herokuapp.com",Kt=function(){var e=Object(Z.useState)(!0),t=Object(J.a)(e,2),n=t[0],c=t[1];return Object(Z.useEffect)((function(){var e=localStorage.getItem("urd");fetch("".concat(Ht,"/api_refresh_token"),{method:"POST",credentials:"include",headers:{refreshToken:e}}).then(function(){var e=Object(X.a)(Q.a.mark((function e(t){var n,a,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,a=n.accessToken,r=n.refreshToken,te(a),localStorage.setItem("urd",r),c(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),n?Object(ie.jsx)(ie.Fragment,{children:"loading.."}):Object(ie.jsx)(Wt,{})},Yt=n(100),zt=n(102),Gt=n(25),Vt=n(22),Qt=n(104),Xt=n(101),Jt=n(103),Zt=new zt.a({}),en=new Gt.a((function(e,t){return new Vt.a((function(n){var c;return Promise.resolve(e).then((function(e){var t=ne();e.setContext({headers:{authorization:t?"bearer ".concat(t):""}})})).then((function(){c=t(e).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})})).catch(n.error.bind(n)),function(){c&&c.unsubscribe()}}))})),tn=new Yt.a({link:Gt.a.from([new Jt.a({accessTokenField:"accessToken",isTokenValidOrUndefined:function(){var e=ne();if(!e)return!0;try{var t=Object(se.a)(e).exp;return!(Date.now()>=1e3*t)}catch(n){return!1}},fetchAccessToken:function(){return fetch("".concat(Ht,"/refresh_token"),{method:"POST",credentials:"include"})},handleFetch:function(e){te(e)},handleError:function(e){console.warn("Your refresh token is invalid, Try to relogin"),console.error(e)}}),Object(Xt.a)((function(e){var t=e.graphQLErrors,n=e.networkError;console.log(t),console.log(n)})),en,new Qt.a({uri:"".concat(Ht,"/graphql"),credentials:"include"})]),cache:Zt});G.a.render(Object(ie.jsx)(be.ApolloProvider,{client:tn,children:Object(ie.jsx)(Kt,{})}),document.getElementById("root"))}},[[140,1,2]]]);
//# sourceMappingURL=main.1e9deb89.chunk.js.map